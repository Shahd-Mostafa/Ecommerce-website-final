<div class="bg py-4 vh-100 d-flex justify-content-center align-items-center">
  <div class="container">
    <div
      class="d-flex justify-content-center align-items-center flex-column mx-auto w-50 bg-body-tertiary rounded-3 p-4"
    >
      <h2 class="text-center fw-medium">Reset Password</h2>
      @if(step == 1) {
      <form
        [formGroup]="verifyEmail"
        class="w-100"
        (ngSubmit)="verifyEmailSubmit()"
      >
        <div class="inputs">
          <div class="mb-2">
            <label for="email" class="pb-1">Email</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="resetEmail"
              formControlName="email"
            />
            @if(verifyEmail.get('email')?.errors &&
            verifyEmail.get('email')?.touched) {
            <div class="warnings">
              @if(verifyEmail.get('email')?.getError('required')){
              <p>Email is required</p>
              } @else if (verifyEmail.get('email')?.getError('email')) {
              <p>Enter Valid Email</p>
              }
            </div>
            }
            <div class="warnings">
              <p class="mt-1">{{ msg }}</p>
            </div>
          </div>
        </div>
        <button
          [disabled]="verifyEmail.invalid"
          class="btn btn-close-white w-100 mt-3"
        >
          Verify Email
        </button>
      </form>
      } @else if(step == 2) {
      <form
        [formGroup]="verifyCode"
        class="w-100"
        (ngSubmit)="verifyCodeSubmit()"
      >
        <div class="inputs">
          <div class="mb-2">
            <label for="code" class="pb-1">Code</label>
            <input
              type="text"
              class="form-control"
              id="code"
              name="reCode"
              formControlName="resetCode"
            />
          </div>
        </div>
        <button
          [disabled]="verifyCode.invalid"
          class="btn btn-close-white w-100 mt-3"
        >
          Verify Code
        </button>
      </form>
      } @else if(step == 3) {
      <form
        [formGroup]="resetPassword"
        class="w-100"
        (ngSubmit)="resetPasswordSubmit()"
      >
        <div class="inputs">
          <div class="mb-2">
            <label for="email" class="pb-1">Email</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="resetEmail"
              formControlName="email"
            />
          </div>
          <div class="mb-2">
            <label for="newPassword" class="pb-1">New Password</label>
            <input
              type="password"
              class="form-control"
              id="newPassword"
              name="resetNewPassword"
              formControlName="newPassword"
            />
          </div>
        </div>
        <button
          [disabled]="resetPassword.invalid"
          class="btn btn-close-white w-100 mt-3"
        >
          Reset Password
        </button>
      </form>
      }
    </div>
  </div>
</div>
